<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>A/Oromo Quiz - LT Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #fff4ec;
      color: #333;
    }

/* Navbar Styles */
.navbar {
  background-color: #fff4ec; /* Light background */
  padding: 10px 0;
  color: black

}

.navbar .navbar-brand {
  display: flex;
  align-items: center;
}

.navbar .navbar-brand img {
  height: 60px;
  font-size: 10px;
}

.navbar-text {
  font-size: 22px;
  color: #000000;
  font-weight: bold;
}



.navbar .navbar-nav {
  margin-left: auto;
}

.navbar .navbar-nav .btn {
  color: #333;
  font-weight: 500;
}

.navbar .navbar-nav .btn:hover {
  color: #f39c12;
  background-color: transparent;
}

/* Navbar Toggle Button for Small Screens */
.navbar-toggler {
  border-color: #000000;
  background-color: #9b9b9b;
  right: 20px;
  position: absolute;
  top: 20px;
}

.navbar-toggler-icon {
  background-color: #270505;
}

/* Active Link Styles */
.navbar-nav .nav-item.active .nav-link {
  color: #f39c12;
  font-weight: 600;
}



    .quiz-container {
  max-width: 800px;
  margin: 2rem auto;
  padding: 20px;
}

.quiz-container img {
  display: block; /* Makes the image block-level */

  margin-left: auto; /* Centers the image horizontally */
  margin-right: auto; /* Centers the image horizontally */
}


    .question-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .question-text {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
      color: #2c3e50;
    }

    .form-check-input:checked {
      background-color: #f39c12;
      border-color: #f39c12;
    }

    .submit-btn {
      background-color: #f39c12;
      border: none;
      padding: 12px 30px;
      font-weight: 600;
      width: 100%;
      max-width: 200px;
    }

    .submit-btn:hover {
      background-color: #ffb43a;

    }

    .construction-block {
      background: #fff4ec;
      border-left: 4px solid #f39c12;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
    }

    .construction-block img {
      max-width: 100%;
      height: auto;
      margin-top: 15px;
      border-radius: 8px;
    }
    .loading-container {
  display: flex;
  justify-content: center; /* Centers the content horizontally */
  align-items: center; /* Centers the content vertically */
  gap: 10px; /* Adds some space between the spinner and the text */
}

.spinner {
  border: 2px solid #17273b;
  border-top: 2px solid #ffffff;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-text {
  font-weight: bold;
  color: #333;
  font-size: 1.2rem;
}

/* Container for both buttons */
.buttons-container {
  position: relative;
  width: 100%;
  height: 60px; /* Adjust height as needed */
}

/* Back button (top left) */
.back {
  position: absolute;
  top: 0; /* Position at the top */
  left: 0; /* Position at the left */
  border: none;
  background: none;
  color: rgb(0, 0, 0);
  padding: 10px 15px;
  border-radius: 50px;
  cursor: pointer;
  text-decoration: none;
  font-size: 20px;
  z-index: 9999; /* Ensure it stays above other elements */
}

/* Download button (top right) */
.download-btn {
  position: absolute;
  top: 0; /* Position at the top */
  right: 0; /* Position at the right */
  border: none;
  background: none;
  color: rgb(0, 0, 0);
  padding: 10px 15px;
  border-radius: 50px;
  cursor: pointer;
  text-decoration: none;
  font-size: 20px;
  z-index: 9999; /* Ensure it stays above other elements */
}

/* Hover effects */
.back:hover, .download-btn:hover {
  color: #f39c12; /* Change color on hover */
}

.footer {
    background-color: #fcf0e8 !important;
    border-top: 1px solid #eee4dd;
    margin-top: auto;
    width: 100%;
  }




  </style>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore-compat.js"></script>
</head>
<body>

  <nav class="navbar">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="logo.png" alt="Logo" height="50" onclick="home()">
        <span class="navbar-text">Quiz</span>
      </a>

      
        
      </div>
    </div>
  </nav>
<div>

  <div class="buttons-container">
    <button onclick="back()" class="back"> 
      <i class="fas fa-arrow-left"> </i> Back
    </button>
    <div class="download-btn">
      <a href="https://docs.google.com/document/d/1s9116IONGJnUJOgxLbeRIodKRpaem-kp/export?format=pdf" 
         class="btn-link text-dark" download>
        <i class="fas fa-download"></i> Download
      </a>
    </div>
  </div>
  
  

  <div class="quiz-container"> 
    <h2 class="text-center mb-4 fw-bold">Afan Oromo Grade 6 Ministry</h2>
    
    <form id="quizForm">
      <div id="quizContainer" class="mb-4">
        <div class="loading-container">
          <div class="spinner"></div>
          <span class="loading-text">Loading...</span>
        </div>
        <!-- Questions will be injected here -->
      </div>
      
      <div id="quizContainer" class="mb-4">
        <!-- Questions will be injected here -->
      </div>
      
      <div class="text-center">
        <button type="submit" class="btn submit-btn text-white">Submit Quiz</button>
      </div>
    </form>
  </div>

  <!-- Bootstrap Modal -->
  <div class="modal fade" id="resultModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body text-center py-4">
          <img src="https://cdn-icons-png.flaticon.com/128/10792/10792513.png" 
               alt="Result" 
               class="mb-3"
               style="width: 100px;">
          <h3 class="mb-3">Quiz Completed!</h3>
          <p id="resultText" class="lead"></p>
          <button type="button" class="btn btn-warning text-white" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>


  <footer class="footer">
    <div class="container">
      <div class="text-center">
        <small>
          Â© 2016-2024 Oromia Education Bureau (OEB)
          Grade 6 Ministry Exam Questions<br>
          Used under educational fair use policy<br>
          LT Quiz is not affiliated with OEB
          <br><br>
        </small>
      </div>
    </div>
  </footer>



  <script>
    function back() {
      window.location.href = '/ministry';
    }

    function home() {
      window.location.href = '/';
    }

    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDelPBnpY0xv-_ShgWreMZpld_SUWdRwJk",
      authDomain: "lt-website-bf509.firebaseapp.com",
      projectId: "lt-website-bf509",
      storageBucket: "lt-website-bf509.appspot.com",
      messagingSenderId: "43884867628",
      appId: "1:43884867628:web:617a17c06d37b014a86189"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    let quizData = [];

    const constructionSections = [
  { startIndex: 0, endIndex: 1, content: `<u>HIIKA <strong>FAKKAATTII</strong> JECHOOTAA FILADHU</u>` },
  { startIndex: 4, endIndex: 5, content: `<u>JECHOOTA HIMOOTA ASII GADII KEESSATTI JALA SARARAMANIIF <strong>HIIKA GALUMSAA</strong> FILADHU.</u>` },
  { startIndex: 8, endIndex: 9, content: `<u>BAKKA DUWWAA HIMOOTA ARMAAN GADII GUUTUUF <strong>JEHOOTA QUBEE SIRRIIN</strong> BARREEFFAMAN FILADHU.</u>` },
  { startIndex: 12, endIndex: 13, content: `<u>GAAFFILEE ASII GADI JIRAN AKKAATAA GAAFATAMTEEN DEEBISI.</u>` },
  { 
    startIndex: 34, 
    endIndex: 35, 
    content: `<u><strong>DUBBISA</strong></u> <br><br>Akaakuu allaattii keessaa tokko guchiidha. Guchiiwwan dheerinaafi furdinaan beekkamoodha. Dheerinni isaanii meetira lamaafi walakkaa yoo ta&#39;u, ulfaatinni isaanii immoo giddu-galeessaan toora kiilogiraama dhibba tokkoofi shantamii torba ta&#39;a. Waan kana ta&#39;eef, akka allaattiwwan kaawwanii balali&#39;uu hindanda&#39;an<br><br>Qormaata guchii irratti gaggeeffame irraa akka hubatametti, &quot;Kun kormaadha; kun immoo, dhaltuudha,&quot; jechuun kan danda&#39;amu bifa koola isaaniitiini. Kormaan koola isaa irratti bifa gurraachaafi adii kan gabu yoo ta&#39;u, dhaltuun immooo koolli ishii daatacha. Saala isaanii bifa baalleetiin akkanatti gargar baasuun kan danda&#39;amu guchiiwwan umriin issanii waggaa tokkoo gadi ta&#39;eedha.<br><br>Guchiiwwan jireenyaaf bakka diriiraa ta&#39;e filatu. Bakki walqixxaataan kan caalaatti filatamu cirrachaafi marga kan qabu yoo ta&#39;eedha. Kanneen keessaa tokko yoo hir&#39;ate, jireenyaaf itti hintolu. Fakkeenyaaf, nyaanni isaanii marga waan ta&#39;eef margi hin jiru taanaan bakka sana jiraachuu hindanda&#39;an.<br><br><u><strong>GAAFFILEE ASII GADII DUBBISA IRRATTI HUNDAA&#39;UUN DEEBISI.</strong></u>` 
  }
];

    const loadQuiz = () => {
      db.collection('Oromo').get()
        .then(querySnapshot => {
          quizData = querySnapshot.docs.map(doc => doc.data());
          renderQuiz();
        })
        .catch(error => console.error("Error loading quiz:", error));
    };

    const renderQuiz = () => {
      const quizContainer = document.getElementById('quizContainer');
      let html = '';

      quizData.forEach((question, index) => {
        constructionSections.forEach(section => {
          if (index === section.startIndex) {
            html += `
              <div class="construction-block">
                <div class="fw-bold mb-2">${section.content}</div>
              </div>
            `;
          }
        });

        html += `
          <div class="question-card">
            <div class="question-text">${index + 1}. ${question.question}</div>
            <div class="choices">
        `;

        question.choices.forEach((choice, i) => {
          html += `
            <div class="form-check mb-2">
              <input class="form-check-input" type="radio" 
                     name="q${index}" 
                     id="q${index}-${i}"
                     value="${String.fromCharCode(65 + i)}">
              <label class="form-check-label" for="q${index}-${i}">
                ${String.fromCharCode(65 + i)}. ${choice}
              </label>
            </div>
          `;
        });

        html += `</div></div>`;
      });

      quizContainer.innerHTML = html;
    };

    document.getElementById('quizForm').addEventListener('submit', e => {
      e.preventDefault();
      let score = 0;
      
      quizData.forEach((question, index) => {
        const selected = document.querySelector(`input[name="q${index}"]:checked`);
        if (selected && selected.value === question.correctAnswer) score++;
      });

      const resultModal = new bootstrap.Modal('#resultModal');
      document.getElementById('resultText').textContent = 
        `You scored ${score} out of ${quizData.length}`;
      resultModal.show();
    });

    window.addEventListener('load', loadQuiz);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.expand(); // Expand the app to full screen (optional)
        Telegram.WebApp.setHeaderColor("#fff4ec"); // Set the Telegram header color
      }
    });
  </script>

</body>
</html>